<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en" >

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="generator" content="Hugo 0.135.0">

	<title>Understanding (ref)erences !!! &middot; A Developer&#39;s Experience</title>

	<meta name="description" content="" />

	

	<link type="text/css" rel="stylesheet" href="/css/print.css" media="print">
	<link type="text/css" rel="stylesheet" href="/css/poole.css">
	<link type="text/css" rel="stylesheet" href="/css/hyde.css">

	
<style type="text/css">
  .sidebar {
    background-color: #347B98;
  }

  .read-more-link a {
    border-color: #347B98;
  }

  .pagination li a {
    color: #347B98;
    border: 1px solid #347B98;
  }

  .pagination li.active a {
    background-color: #347B98;
  }

  .pagination li a:hover {
    background-color: #347B98;
    opacity: 0.75;
  }

  footer a,
  .content a,
  .related-posts li a:hover {
    color: #347B98;
  }
</style>



	<link type="text/css" rel="stylesheet" href="/css/blockquote.css"><link type="text/css" rel="stylesheet" href="/css/custom.css">

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

	<link rel="stylesheet"
				href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
				integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
				crossorigin="anonymous" />

	<link rel="apple-touch-icon-precomposed"
				sizes="144x144"
				href="/images/apple-touch-icon-144-precomposed.png">

	<link rel="shortcut icon" href="/images/favicon.png">

	
	</head>

<body>
	<aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="/">
            <img 
              src="/images/profile.png" 
              class="img-circle img-headshot center" 
              alt="Profile Picture">
          </a>
        </div>
        
      

      <h1>A Developer&#39;s Experience</h1>

      
      <p class="lead">The romantic image of an über-programmer is someone who fires up Emacs, types like a machine gun, and delivers a flawless final product from scratch. A more accurate image would be someone who stares quietly into space for a few minutes and then says Hmm. I think I’ve seen something like this before – John D. Cook</p>
      
    </div>

    <hr />

    <nav>
      <ul class="sidebar-nav">
        
        <li>
          <a href="/post/">Posts</a>
        </li><li>
          <a href="/pages">Pages</a>
        </li><li>
          <a href="/about/">About</a>
        </li><li>
          <a href="/quotations">Qs</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://stackoverflow.com/users/495612" rel="me" title="Stackoverflow" target="_blank">
        <i class="fab fa-stack-overflow" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/vivekragunathan" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="https://twitter.com/higherkindedtpe" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>

    <section class="blog-search-section">
      <div class="blog-search-box">
	
	<button class="blog-search-btn"><i class="fas fa-search"></i></button>
	<input type="text" class="blog-search-input" placeholder="Type to Search...">

	<form style='display: none;' action='/search/' method="get">
		<input name="q" type="text">
	</form>
</div>
    </section>
  </div>
</aside>


	<main class="content container">
		<div class="post">
  
  <div class="image featured ">
  	
	</div>

  <h1>Understanding (ref)erences !!!</h1>


  <div class="post-date">
    <time datetime="2008-09-26T17:03:00Z">Sep 26, 2008</time> &middot; 2 min read
  </div>

  <p>Let us take a look at the following piece of code:-</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">void</span> Operate(IList iList2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> iList2 = <span style="color:#ff79c6">new</span> List();
</span></span><span style="display:flex;"><span> iList2.Add(<span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span> iList2.Add(<span style="color:#bd93f9">2</span>);
</span></span><span style="display:flex;"><span> iList2.Add(<span style="color:#bd93f9">3</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#ff79c6">void</span> Main()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> IList iList= <span style="color:#ff79c6">new</span> List();
</span></span><span style="display:flex;"><span> iList.Add(<span style="color:#bd93f9">10</span>);
</span></span><span style="display:flex;"><span> Operate(iList);
</span></span><span style="display:flex;"><span> Console.WriteLine(iList[<span style="color:#bd93f9">0</span>].ToString());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Be thinking about what would the above program print to the console ? And that is what we are going to talk about in this post – simple but subtle.</p>
<p>I saw this code at CodeProject discussions. The author was confused with why was the program printing <code>10</code> instead of <code>1</code>. I am writing about this since the ‘gotcha’ was not highlighted in the discussion.</p>
<p>So we passed the reference <code>iList</code> to the function which is supposed to make it point to the <code>List</code> that it creates and so must be printing 1. Well, a C programmer knowing how to program in C# would have said <em>Gotcha</em> already. A reference (in C#), equivalent to a pointer in C, is an entity that stores the address of an object in heap and accesses it using this address. So when we pass a reference (by value) to a function, then we are passing this address value. That is captured in another 4 byte variable local to that function; so creating assigning inside the function will make <code>iList2</code> point to newly created object – <code>iList</code> and <code>iList2</code> are two different reference pointing to the same object. So if you want to transmit the effect of the changes you make to the List inside the function, pass it by reference – use ref keyword.</p>
<p>Now the fun part !!! Let us try writing the same stuff in C++:-</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#6272a4">// This function will not alter the source pointer</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">void</span> Operator(IList* pList)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  pList = <span style="color:#ff79c6">new</span> List();
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">2</span>);
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">3</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// This function will affect the source; similar to using ref in C#</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// 1) const IList*&amp; pList - Can make pList point elsewhere but cannot modify the existing object</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// 2) IList* const &amp;pList - pList cannot point to anywhere else but can modify the existing object</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">void</span> Operator(IList*&amp; pList)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  pList = <span style="color:#ff79c6">new</span> List();
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">2</span>);
</span></span><span style="display:flex;"><span>  pList-&gt;Add(<span style="color:#bd93f9">3</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Hope that was fun !!!</p>

</div>


	</main>

	<footer>
  <div>
    &copy;  2024

    

    
  </div>
</footer>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
					integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
					crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap" />









	<script src="https://unpkg.com/lunr@2.3.9/lunr.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="/js/search.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	

	<script>
	window.store = {
	  
	  
	}

	hljs.highlightAll();

	document
		.querySelector('.blog-search-input')
		.addEventListener('keyup', function (event) {
			event.preventDefault();

			if (event.keyCode === 13) {
				document.querySelector('.blog-search-box>form>input').value = 
					document.querySelector('.blog-search-input').value;

				document
					.querySelector('.blog-search-box>form')
					.submit(
);
			}
		});
	</script>

	
</body>

</html>
