<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en" >

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="generator" content="Hugo 0.89.4" />

	<title>Quiz: Beauty of Numbers - Solution !!! &middot; A Developer&#39;s Experience</title>

	<meta name="description" content="" />

	

<meta itemprop="name" content="Quiz: Beauty of Numbers - Solution !!!">
<meta itemprop="description" content="One hint that should be helpful in building our solution is that we got to get retained after every wave of removal (until nobody else remains)."><meta itemprop="datePublished" content="2011-07-01T20:45:08+00:00" />
<meta itemprop="dateModified" content="2011-07-01T20:45:08+00:00" />
<meta itemprop="wordCount" content="477">
<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Quiz: Beauty of Numbers - Solution !!!"/>
<meta name="twitter:description" content="One hint that should be helpful in building our solution is that we got to get retained after every wave of removal (until nobody else remains)."/>


<meta property="og:title" content="Quiz: Beauty of Numbers - Solution !!!" />
<meta property="og:description" content="One hint that should be helpful in building our solution is that we got to get retained after every wave of removal (until nobody else remains)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2011/07/03/beauty-of-numbers-solution/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2011-07-01T20:45:08+00:00" />
<meta property="article:modified_time" content="2011-07-01T20:45:08+00:00" />




	<link type="text/css" rel="stylesheet" href="/css/print.css" media="print">

	<link type="text/css" rel="stylesheet" href="/css/poole.css">

	<link type="text/css" rel="stylesheet" href="/css/hyde.css">

	


	<link type="text/css" rel="stylesheet" href="/css/blockquote.css"><link type="text/css" rel="stylesheet" href="/css/custom.css">

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
		integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">

	<link rel="shortcut icon" href="/images/favicon.png">

	
	</head>

<body>
	<aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="/">
            <img 
              src="/images/profile.png" 
              class="img-circle img-headshot center" 
              alt="Profile Picture">
          </a>
        </div>
        
      

      <h1>A Developer&#39;s Experience</h1>

      
      <p class="lead">The romantic image of an Ã¼ber-programmer is someone who fires up Emacs, types like a machine gun, and delivers a flawless final product from scratch. A more accurate image would be someone who stares quietly into space for a few minutes and then says Hmm. I think Iâ€™ve seen something like this before â€“ John D. Cook</p>
      
    </div>

    <hr />

    <nav>
      <ul class="sidebar-nav">
        
        <li>
          <a href="/post/">Posts</a>
        </li><li>
          <a href="/pages">Pages</a>
        </li><li>
          <a href="/about/">About</a>
        </li><li>
          <a href="/quotations">Qs</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://stackoverflow.com/users/495612" rel="me" title="Stackoverflow" target="_blank">
        <i class="fab fa-stack-overflow" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/vivekragunathan" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="https://twitter.com/higherkindedtpe" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


	<main class="content container">
		<div class="post">
  
  <div class="image featured ">
  	
	</div>

  <h1>Quiz: Beauty of Numbers - Solution !!!</h1>


  <div class="post-date">
    <time datetime="2011-07-01T20:45:08Z">Jul 1, 2011</time> &middot; 3 min read
  </div>

  <p>One hint that should be  helpful in building our solution is that we got to get retained after every wave of removal (until nobody else remains). That means it got to be really some special number or special kind of number. We could do what functional programmers would do. Write down the steps of removal for every queue size N, and it is not worth trying for very large N; in our case, even 20 or 30 could be large. But the point is we could iterate the steps manually and find a position K for every queue size N, where K is the position that remains after all the waves of removal. Once we are done with that, we should stare intensely ðŸ˜‚ on every K to derive a pattern, which would tell us something about those Ks, and with that we should be able to solve the problem.</p>
<p>Ok, let us try that real quick. I will be skipping the individual iterations and directly putting the number K for every N. You can do the homework of individually iterating the wave of removal.</p>
<p><strong>NOTES</strong></p>
<ul>
<li>A queue size of 1 does not make sense.</li>
<li>Programmatic indices start from zero, while our home work\manual method indices start from 1.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Queue Size (N)</th>
<th style="text-align:center">Lucky Position (K)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">16</td>
</tr>
</tbody>
</table>
<p>I have done that manual iteration for you and produced the Ks. By now, you should have seen the pattern in the Ks. Yep, <em>K should be a power of two</em>. So to be lucky to escape the wave, we got to be at a position that is the highest possible power of two; for any given queue size N.</p>
<p>If we were to write a program (or a game with this logic), it would be composed of the following functions:-</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="kt">int</span> <span class="n">GetLuckyPosition</span><span class="p">(</span><span class="kt">uint</span> <span class="n">queueSize</span><span class="p">)</span>
<span class="p">{</span>
   <span class="c1">// 0 and 1 are cases of invalid input.
</span><span class="c1"></span>   <span class="k">if</span> <span class="p">(</span><span class="n">queueSize</span> <span class="p">&lt;=</span> <span class="m">1</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="c1">// TODO: Suggest a better approach to find the K.
</span><span class="c1"></span>   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="n">queueSize</span><span class="p">;</span> <span class="n">k</span> <span class="p">&gt;=</span> <span class="m">2</span><span class="p">;</span> <span class="p">--</span><span class="n">k</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">IsPowerOfTwo</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
      <span class="p">{</span>
         <span class="k">return</span> <span class="n">k</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>

   <span class="c1">// Should never get here;
</span><span class="c1"></span>   <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">IsPowerofTwo</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">return</span> <span class="n">num</span> <span class="p">&amp;</span> <span class="p">(</span><span class="n">num</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span><span class="p">;</span>  
<span class="p">}</span>
</code></pre></div><p>In a power of two series, the on-bit keeps shifting to the left, and the same bit keeps shifting to the right during the wave of removals. I would say that K oscillates to settle at one position to survive. It is not about whether K is odd or even because when every wave strikes to remove, the even positions could become odds and vice versa. Only a power of two happens to remain at an even position, and hence it survives.</p>

</div>


	</main>

	<footer>
  <div>
    &copy;  2021

    &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

    
  </div>
</footer>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
		integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/base16/ocean.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/scala.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/shell.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/cpp.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/fsharp.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/css.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	

	<script>hljs.highlightAll();</script>

	
</body>

</html>
