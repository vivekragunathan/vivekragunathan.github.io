<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.88.1" />

  <title>Importance of Semantics &middot; A Developer&#39;s Experience</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="Importance of Semantics">
<meta itemprop="description" content="semantics1 | /sɪˈmæntɪks/ | noun (functioning as sing)

the branch of linguistics that deals with the study of meaning, changes in meaning, and the principles that govern the relationship between sentences or words and their meanings
the study of the relationships between signs and symbols and what they represent
(logic)

the study of interpretations of a formal theory
the study of the relationship between the structure of a theory and its subject matter
(of a formal theory) the principles that determine the truth or falsehood of sentences within the theory, and the references of its terms




Semantics is ever more important in programming."><meta itemprop="datePublished" content="2016-11-07T06:04:46+00:00" />
<meta itemprop="dateModified" content="2016-11-07T06:04:46+00:00" />
<meta itemprop="wordCount" content="1065">
<meta itemprop="keywords" content="api,clean code,design,programming,semantics," />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Importance of Semantics"/>
<meta name="twitter:description" content="semantics1 | /sɪˈmæntɪks/ | noun (functioning as sing)

the branch of linguistics that deals with the study of meaning, changes in meaning, and the principles that govern the relationship between sentences or words and their meanings
the study of the relationships between signs and symbols and what they represent
(logic)

the study of interpretations of a formal theory
the study of the relationship between the structure of a theory and its subject matter
(of a formal theory) the principles that determine the truth or falsehood of sentences within the theory, and the references of its terms




Semantics is ever more important in programming."/>


<meta property="og:title" content="Importance of Semantics" />
<meta property="og:description" content="semantics1 | /sɪˈmæntɪks/ | noun (functioning as sing)

the branch of linguistics that deals with the study of meaning, changes in meaning, and the principles that govern the relationship between sentences or words and their meanings
the study of the relationships between signs and symbols and what they represent
(logic)

the study of interpretations of a formal theory
the study of the relationship between the structure of a theory and its subject matter
(of a formal theory) the principles that determine the truth or falsehood of sentences within the theory, and the references of its terms




Semantics is ever more important in programming." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2016/11/07/semantics/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2016-11-07T06:04:46+00:00" />
<meta property="article:modified_time" content="2016-11-07T06:04:46+00:00" />




  <link type="text/css"
        rel="stylesheet"
        href="/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/css/hyde.css">

  


  <link type="text/css" rel="stylesheet" href="/css/custom.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/images/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="/">
            <img 
              src="/images/profile.png" 
              class="img-circle img-headshot center" 
              alt="Profile Picture">
          </a>
        </div>
        
      

      <h1>A Developer&#39;s Experience</h1>

      
      <p class="lead">The romantic image of an über-programmer is someone who fires up Emacs, types like a machine gun, and delivers a flawless final product from scratch. A more accurate image would be someone who stares quietly into space for a few minutes and then says Hmm. I think I’ve seen something like this before – John D. Cook</p>
      
    </div>

    <hr />

    <nav>
      <ul class="sidebar-nav">
        
        <li>
          <a href="/post/">Posts</a>
        </li><li>
          <a href="/pages">Pages</a>
        </li><li>
          <a href="/about/">About</a>
        </li><li>
          <a href="/quotations">Qs</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="#" rel="me" title="Linkedin" target="_blank">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <div class="image featured">
  	
	</div>

  <h1>Importance of Semantics</h1>


  <div class="post-date">
    <time datetime="2016-11-07T06:04:46Z">Nov 7, 2016</time> &middot; 5 min read
  </div>

  <p><strong>semantics</strong><sup id="fnref-2002-1"><a href="#fn-2002-1">1</a></sup> | /sɪˈmæntɪks/ | noun (functioning as sing)</p>
<ol>
<li>the branch of linguistics that deals with the study of meaning, changes in meaning, and the principles that govern the relationship between sentences or words and their meanings</li>
<li>the study of the relationships between signs and symbols and what they represent</li>
<li>(<strong>logic</strong>)
<ul>
<li>the study of interpretations of a formal theory</li>
<li>the study of the relationship between the structure of a theory and its subject matter</li>
<li>(of a formal theory) the principles that determine the truth or falsehood of sentences within the theory, and the references of its terms</li>
</ul>
</li>
</ol>
<hr>
<p>Semantics is ever more important in programming.</p>
<p>Take JDK <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Stack.html"><code>Stack</code></a> for example. If you were providing a <code>Stack</code> class, you should make sure to expose only those methods that do not break the stack semantics – <em>add and remove elements only from the top of the stack</em>. The underlying data structure could be an array or linked list (depending on your need). Your <code>Stack</code> should not expose methods to add or remove elements from other indices although you should expose the facility of iterating the elements. Exposing methods that mutate the order of elements freely at indices other than top is a breach of semantics. You could still use such a data structure and you could make it work to your wish but don’t call it <code>Stack</code>.</p>
<blockquote>
<p>Java/JDK is notorious for such poor semantics. Not just Stack but many others – <code>Thread</code>, obtaining an immutable <code>List</code>, ambiguous method names<sup id="fnref-2002-2"><a href="#fn-2002-2">2</a></sup> etc.</p>
</blockquote>
<p>Let us think about obtaining that immutable list. Here is how you get an immutable list out of an existing immutable list:-</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">// list could have been created elsewhere or in place new ArrayList();
</span><span class="c1"></span><span class="n">Collections</span><span class="o">.</span><span class="na">immutableList</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
</code></pre></div><p>You might argue <em>it does the job</em>. However it is operating on broken or poor semantics. With a <code>List</code> in hand, how do you tell that it is immutable? Imagine that you are returning the immutable list from one of your methods. How would the caller know that the list is immutable and avoid modifying the list. Don’t tell me <em>from Java doc</em>. It is known for sure only at runtime when an <code>UnsupportedOperationException</code> is encountered in an attempt to modify the list. A better semantic is to have a separate interface/class that does not even provide mutator methods just like <a href="https://msdn.microsoft.com/en-us/library/hh192385.aspx"><code>IReadOnlyList</code></a> in .NET.</p>
<p>Let us extend on the above thought a bit further. Suppose you have to implement an API <code>List getMeTheList(/*some input arguments*/)</code>. The API can return an empty list for some cases and a non-empty one for others; some business logic. It is not uncommon to declare a shared empty list <code>EMPTY_LIST</code> and use that for all empty list cases in the above method and other such methods too. We don’t want to be churning empty lists for no reason. Remember you don’t the garbage collector for free. So you would make that shared empty list immutable – <code>Collections.immutableList(new ArrayList());</code> If the shared list is not immutable, any consumer code that modified the list would make it non-empty and all consumers would not be getting empty list anymore when we return <code>EMPTY_LIST</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">final</span> <span class="kd">class</span> <span class="nc">AppLib</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">List</span> <span class="n">EMPTY</span><span class="err">\</span><span class="n">_LIST</span><span class="err">\</span><span class="n">_REF</span> <span class="o">=</span> <span class="n">Collections</span><span class="o">.</span><span class="na">unmodifiableList</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;());</span>

  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&#34;unchecked&#34;</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">emptyList</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">EMPTY</span><span class="err">\</span><span class="n">_LIST</span><span class="err">\</span><span class="n">_REF</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">YourAppCode</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">getMeTheList</span><span class="o">(/</span><span class="err">\</span><span class="o">*</span><span class="n">some</span> <span class="n">input</span> <span class="n">arguments</span><span class="err">\</span><span class="o">*/)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">some</span> <span class="n">truth</span> <span class="n">condition</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">AppLib</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">some</span> <span class="n">other</span> <span class="n">condition</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">an</span> <span class="n">existing</span> <span class="n">list</span><span class="o">;</span> <span class="n">like</span> <span class="n">one</span> <span class="n">from</span> <span class="n">cache</span> <span class="n">etc</span><span class="o">.</span>
    <span class="o">}</span>

    <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="c1">// some logic that populates the list
</span><span class="c1"></span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>I am sure you see the problem with above implementation – inconsistent return value although it is <code>List</code> in all cases. Think from the caller’s perspective. There is no way that the caller can deduce (from the method signature) to refrain from modifying the <code>List</code> returned (or rather prevent the caller in the first place).</p>
<p>You can go to great lengths in making such a contract work with a try-catch, size()<sup id="fnref2:2002-2"><a href="#fn-2002-2">2</a></sup> checks and what not. By doing so, you are just working around the problem rather than standardizing the semantics of the API; if you are the author or have access to effect a change in the API.</p>
<p>In majority of cases, the calling code iterates/consumes and does not make modifications to the resultant list. However, the fact that the calling code can make modifications should not influence the API design with a false idea that it is convenient for the caller. That said, if the API is designed with the information beforehand that the client code will make modifications or such is the regular scenario, then the semantics change; API should be returning a mutable list. But the API should be consistent in its behavior. In other words, <em>the API should be semantically meaningful</em>. Think of an Equals implementation. Likewise, you should also consider the effect of allowing or skipping <code>null</code>s in your resultant list.</p>
<blockquote>
<p>Your API that returns a <code>Collection</code> should not be returning a <code>List</code> sometimes and <code>Set</code> at other times.**</p>
</blockquote>
<p>As a publisher of the API, you should first <em>decide</em> the appropriate semantics. No forethought of semantics or alternatively a poor/broken one is ignorantly or knowingly planting bugs in code. I am sure you would have come across APIs such as <code>getMeTheList</code> or worse used the JDK <code>Stack</code> in ways that ignore the stack semantics.</p>
<p>There are several other factors that determine the integrity of the semantics of an API – name, consistency, thread safety to name a few. Did I say <strong>name</strong>? Don’t make the mistake of thinking <em>What’s in a name?</em> Suppose you name your API <code>float getProductWeight()</code>, which weight does it return – absolute weight of the product, with addons, with packaging? For instance, think of a cycle. If <code>getProductWeight</code> will return different values depending on some context that is not even controlled by the caller, it will not only wrek havoc in your code(-base) or the caller code(-base) but it will be hiding in plain sight, and you will be busy fixing parts of the application except <code>getProductWeight</code>.</p>
<p>Among problems that affect the sanctity and the integrity of large scale application code bases, API semantics or the absence thereof is one of the biggest contributors.</p>
<li id="fn-2002-1">
  Definition of <a href="semantics">semantics</a> was borrowed from [Dictionary.com](www.dictionary.com]&#160;<a href="#fnref-2002-1">&#8617;</a>
</li>
<li id="fn-2002-2">
  <em>size()</em> sounds the method is going to return the number of bytes consumed by the <em>Collection</em>. One of the more appropriate names is <em>Count</em>.&#160;<a href="#fnref-2002-2">&#8617;</a> <a href="2002-2">&#8617;</a> </fn></footnotes>
</div>


  </main>

  <footer>
  <div>
    &copy;  2021

    &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap">

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/ocean.min.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/scala.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/fsharp.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  
</body>
</html>
